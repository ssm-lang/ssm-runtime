<!-- HTML header for doxygen 1.8.20-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ssm: Contributing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ssm
   &#160;<span id="projectnumber">0.0.2</span>
   </div>
   <div id="projectbrief">Runtime Library for the Sparse Synchronous Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('contributing.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Contributing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md4">Contributing Guidelines</a><ul><li class="level2"><a href="#autotoc_md5">Rules</a></li>
<li class="level2"><a href="#autotoc_md6">Recommended workflow</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md7">Repository Organization</a><ul><li class="level2"><a href="#autotoc_md8">Top-level files</a></li>
<li class="level2"><a href="#autotoc_md9">Continuous integration</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md4"></a>
Contributing Guidelines</h1>
<p>These guidelines are here to ensure that we maintain a clean, linear Git history. All contributions should be made in the form of pull requests (PRs).</p>
<p>For quick reference about Git commands and concepts, see John's <a href="https://j-hui.com/pages/yagg">notes on using Git</a>.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Rules</h2>
<ul>
<li>Collaborators all have write access, so be mindful of what others are working on.<ul>
<li>Each PR should have at least one approving review before being merged in, preferably from someone also responsible for the code that the PR affects (though not someone who has also worked on the PR). This repo is configured to require one approving review, though anyone may submit a review.</li>
<li>The author of the PR should be the one to merge in the PR, unless there they explicitly instruct someone else to do it.</li>
<li>Do not push directly to <code>main</code>. This branch is already configured with push protections to prevent this.</li>
</ul>
</li>
<li>Write sensible, descriptive commit messages.<ul>
<li>Commit messages on <code>main</code> should follow <a href="https://commit.style/">this guide</a>: summarize in 50 characters or less, in the imperative tense, but elaborate in the message body if necessary. For instance, write "Use name mangling to fix
    name clash" instead of "used name mangling, fixes name clash".</li>
<li>Quick and dirty commit messages are fine in PRs, but make sure they are squashed by the time they are merged into <code>main</code> or anyone else's branch. If you squash and merge, GitHub's PR interface should give you an opportunity to edit the squashed commit message.</li>
</ul>
</li>
<li>Keep the <code>main</code> commit history clean.<ul>
<li>Always make sure to look at that your commits don't touch files</li>
<li>If your PR contains a sequence of such commits, make sure to "Squash and
    Merge", and provide a good commit message to summarize all the changes made.</li>
<li>If you want to land multiple <em>clean</em> commits onto <code>main</code>, make sure to clean them up locally, then use "Rebase and Merge".</li>
<li>Each commit should point to a working tree that is in a sensible state (i.e., builds, works (partially), no dead code etc.).</li>
</ul>
</li>
<li>Follow the recommended code style.<ul>
<li>For C code, refer to <a href="https://github.com/MaJerle/c-code-style">Majerle's style guide</a>, format using <a href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a>, and lint using <a href="https://clang.llvm.org/extra/clang-tidy/">clang-tidy</a>.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Recommended workflow</h2>
<p>If you've never made a PR before, here's a basic workflow to follow:</p>
<ol type="1">
<li>Start with the <code>main</code> branch (or whatever you intend to PR into later), and make sure it is up to date: <code>git checkout main &amp;&amp; git pull</code>.</li>
<li>Create a new feature branch: <code>git checkout -b &lt;branch-name&gt;</code>.</li>
<li>Push your new branch to GitHub: <code>git push -u origin &lt;branch-name&gt;</code>. This also sets your upstream branch to <code>origin/&lt;branch-name&gt;</code>.</li>
<li>Optionally, create a draft PR so others can follow your work.</li>
<li>Make changes, add them, commit them. If you notice new commits to <code>main</code> that might conflict, merge them in. Or rebase, but you may have to force push.</li>
<li>Create a PR (if you haven't already), and request a review. There should be a menu to select reviewers in the top right of the PR page, with some suggestions.</li>
<li>If changes are requested, make those changes, and re-request a review. Try to resolve all conversations.</li>
<li>After receiving approval, "Squash and Merge". You may need to first resolve any merge conflicts with <code>main</code>. (To merge the latest commits from <code>main</code>: <code>git pull origin main</code>; this will allow you to manually resolve conflicts.)</li>
</ol>
<p>Here's a diagram to help you illustrate where everything should take place:</p>
<div class="fragment"><div class="line">                                                (4) Create Draft PR to main</div>
<div class="line">                                                (6) Create PR to main</div>
<div class="line">                                                (7) Respond to reviews</div>
<div class="line"> </div>
<div class="line">      main &lt;--------- (8) Squash and Merge --------- my-branch</div>
<div class="line">        |                                               |</div>
<div class="line">        |                                               |</div>
<div class="line">        |                                               |    GitHub.com (origin)</div>
<div class="line">--------|-----------------------------------------------|-----------------------</div>
<div class="line">        |                                               |             local repo</div>
<div class="line">        |                                               |</div>
<div class="line">  (1) git checkout main &amp;&amp; git pull            (3) git push -u my-branch</div>
<div class="line">        |                                      (5) git push</div>
<div class="line">        |                                               |</div>
<div class="line">        |                                               |</div>
<div class="line">        v                                               |</div>
<div class="line">      main ----- (2) git checkout -b my-branch ----&gt; my-branch</div>
<div class="line"> </div>
<div class="line">                                                 (5) git add ...</div>
<div class="line">                                                     git commit ...</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Repository Organization</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
Top-level files</h2>
<p>There are a few directories at the top-level of this repository:</p>
<ul>
<li><code>src/</code> contains the source code for the core SSM runtime library. The library "core" here is platform-agnostic, and must be linked against platform-specific bindings.</li>
<li><code>include/</code> contains header files for the SSM runtime library.<ul>
<li><code><a class="el" href="ssm_8h.html" title="Interface to the SSM runtime.">include/ssm.h</a></code> defines the user-facing interface, i.e., what applicaton code includes.</li>
<li><code><a class="el" href="ssm-internal_8h.html" title="The internal interface of the SSM runtime.">include/ssm-internal.h</a></code> defines the internal interface, primarily for communicating with platform-specific bindings.</li>
</ul>
</li>
<li><code>doc/</code> contains additional documentation to supplement the code documentation, as well as configuration files and assets for Doxygen.</li>
<li><code>examples/</code> contains example applications built using the SSM runtime library.</li>
<li><code>test/</code> contains source code (<code>test/*.c</code>) and expected output (<code>test/*.out</code>) for tests.</li>
<li><code>Makefile</code> builds the SSM runtime library. Note that this Makefile is only used to build the SSM runtime library for the current machine/platform, primarily for testing purposes. It does not support cross-compilation; platform-specific builds are supported via PlatformIO, which ignores this Makefile. For a list of supported targets, run <code>make help</code>.</li>
<li><code>build/</code> is where the <code>Makefile</code> places build artifacts. It should never be checked into version control.</li>
<li><code>runtests.sh</code> is a test script that builds the examples and tests, and compares them against the expected output.</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Continuous integration</h2>
<p>Continuous integration is performed via GitHub Actions; the following workflows are specified in <code>.github/workflows/</code>:</p>
<ul>
<li><code>test.yml</code> runs the full test suite on every pull request to the <code>main</code> branch, and prevents failing tests from being merged to <code>main</code>.</li>
<li><code>doc.yml</code> generates code documentation using Doxygen, and prevents broken documentation from being merged into <code>main</code>. When new code is committed to main, the documentation is deployed to the <code>gh-pages</code> branch, where it is served to <a href="https://ssm-lang.github.io/ssm-runtime">https://ssm-lang.github.io/ssm-runtime</a>.</li>
<li><code>cov.yml</code> generates a code coverage report for tests on each PR to <code>main</code>, and describes any changes in coverage (with respect to the base branch). </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
<script type="text/javascript">
    // script for doxygen 1.9.1
    $(function() {
        $(document).ready(function(){
           toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
           toggleButton.title = "Toggle Light/Dark Mode"
           document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
       })
    })
</script>
</body>
</html>
