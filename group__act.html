<!-- HTML header for doxygen 1.8.20-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ssm: Activation records</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ssm
   &#160;<span id="projectnumber">0.0.2</span>
   </div>
   <div id="projectbrief">Runtime Library for the Sparse Synchronous Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__act.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Activation records</div>  </div>
</div><!--header-->
<div class="contents">

<p>Under the Sparse Synchronous Model, computation is carried out by coroutines managed by the runtime scheduler. Each coroutine executes at most once per instant, and between these instants, their local state is saved in their <em>activation record</em>.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Discussion</h2>
<p>Under the Sparse Synchronous Model, computation is carried out by coroutines managed by the runtime scheduler. Each coroutine executes at most once per instant, and between these instants, their local state is saved in their <em>activation record</em>. </p>
<p>In addition to the arguments and local variables of a coroutine, which are specific to each coroutine, activation records also contain some common fields, such as the priority and depth of a coroutine. These common fields are found in the <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f" title="Activation record for an SSM routine.">ssm_act_t</a> "base class", which should be embedded in the beginning of each routine-specific activation record.</p>
<p>Activation records are heap-allocated and initialized in routine-specific <em>enter</em> function and registered with the scheduler using <a class="el" href="group__act.html#gaf9d88d2b23295c4d405e9479c421efca" title="Schedule a routine to run in the current instant.">ssm_activate()</a>. When <a class="el" href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d" title="Run the system for the next scheduled instant.">ssm_tick()</a> is called, a coroutine is executed for that instant using its <em>step</em> function. When a coroutine returns, its step function should call <a class="el" href="group__act.html#ga70103fe73a28cb722f8e3caf1629f5b5" title="Destroy the activation record of a routine before leaving.">ssm_leave()</a> to deallocate the activation record. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structssm__act.html">ssm_act</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activation record for an SSM routine.  <a href="structssm__act.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structssm__trigger.html">ssm_trigger</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates a routine should run when a scheduled variable is written.  <a href="structssm__trigger.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gabea6090ce063ae674b31fc2ded743d4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gabea6090ce063ae674b31fc2ded743d4b">SSM_ROOT_PRIORITY</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gabea6090ce063ae674b31fc2ded743d4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The priority for the entry point of an SSM program.  <a href="group__act.html#gabea6090ce063ae674b31fc2ded743d4b">More...</a><br /></td></tr>
<tr class="separator:gabea6090ce063ae674b31fc2ded743d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50b5df0fe51a91d9667ec34eecc9210a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#ga50b5df0fe51a91d9667ec34eecc9210a">SSM_ROOT_DEPTH</a>&#160;&#160;&#160;(sizeof(<a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a>) * 8)</td></tr>
<tr class="memdesc:ga50b5df0fe51a91d9667ec34eecc9210a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The depth at the entry point of an SSM program.  <a href="group__act.html#ga50b5df0fe51a91d9667ec34eecc9210a">More...</a><br /></td></tr>
<tr class="separator:ga50b5df0fe51a91d9667ec34eecc9210a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf0599e969847088348147d8fb9a7bd82"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a></td></tr>
<tr class="memdesc:gaf0599e969847088348147d8fb9a7bd82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread priority.  <a href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">More...</a><br /></td></tr>
<tr class="separator:gaf0599e969847088348147d8fb9a7bd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22bed0d9ef54aa307caef28a6b3fe010"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">ssm_depth_t</a></td></tr>
<tr class="memdesc:ga22bed0d9ef54aa307caef28a6b3fe010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Index of least significant bit in a group of priorities.  <a href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">More...</a><br /></td></tr>
<tr class="separator:ga22bed0d9ef54aa307caef28a6b3fe010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb557bb02081e7d883bcc7d133eb96f6"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gadb557bb02081e7d883bcc7d133eb96f6">ssm_stepf_t</a>(struct <a class="el" href="structssm__act.html">ssm_act</a> *)</td></tr>
<tr class="memdesc:gadb557bb02081e7d883bcc7d133eb96f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function that does an instant's work for a routine.  <a href="group__act.html#gadb557bb02081e7d883bcc7d133eb96f6">More...</a><br /></td></tr>
<tr class="separator:gadb557bb02081e7d883bcc7d133eb96f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab35cf37819a1a1538704654128b1db4f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structssm__act.html">ssm_act</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a></td></tr>
<tr class="memdesc:gab35cf37819a1a1538704654128b1db4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activation record for an SSM routine.  <a href="group__act.html#gab35cf37819a1a1538704654128b1db4f">More...</a><br /></td></tr>
<tr class="separator:gab35cf37819a1a1538704654128b1db4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga167a544c7e87c34a6e4dbf1a8a234f7e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structssm__trigger.html">ssm_trigger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a></td></tr>
<tr class="memdesc:ga167a544c7e87c34a6e4dbf1a8a234f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates a routine should run when a scheduled variable is written.  <a href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">More...</a><br /></td></tr>
<tr class="separator:ga167a544c7e87c34a6e4dbf1a8a234f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaba874593a4027732c9a8c84a25a8bb8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d">ssm_tick</a> (void)</td></tr>
<tr class="memdesc:gaba874593a4027732c9a8c84a25a8bb8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the system for the next scheduled instant.  <a href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d">More...</a><br /></td></tr>
<tr class="separator:gaba874593a4027732c9a8c84a25a8bb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">ssm_enter</a> (size_t size, <a class="el" href="group__act.html#gadb557bb02081e7d883bcc7d133eb96f6">ssm_stepf_t</a> step, <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *parent, <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a> priority, <a class="el" href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">ssm_depth_t</a> depth)</td></tr>
<tr class="memdesc:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize a routine activation record.  <a href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">More...</a><br /></td></tr>
<tr class="separator:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#ga70103fe73a28cb722f8e3caf1629f5b5">ssm_leave</a> (<a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act, size_t size)</td></tr>
<tr class="memdesc:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the activation record of a routine before leaving.  <a href="group__act.html#ga70103fe73a28cb722f8e3caf1629f5b5">More...</a><br /></td></tr>
<tr class="separator:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9d88d2b23295c4d405e9479c421efca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaf9d88d2b23295c4d405e9479c421efca">ssm_activate</a> (<a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act)</td></tr>
<tr class="memdesc:gaf9d88d2b23295c4d405e9479c421efca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a routine to run in the current instant.  <a href="group__act.html#gaf9d88d2b23295c4d405e9479c421efca">More...</a><br /></td></tr>
<tr class="separator:gaf9d88d2b23295c4d405e9479c421efca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaec0cb9b65b0fae98389b310a6d34e5f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaec0cb9b65b0fae98389b310a6d34e5f5">ssm_top_parent</a></td></tr>
<tr class="memdesc:gaec0cb9b65b0fae98389b310a6d34e5f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">An activation record for the parent of the top-most routine.  <a href="group__act.html#gaec0cb9b65b0fae98389b310a6d34e5f5">More...</a><br /></td></tr>
<tr class="separator:gaec0cb9b65b0fae98389b310a6d34e5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gabea6090ce063ae674b31fc2ded743d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabea6090ce063ae674b31fc2ded743d4b">&#9670;&nbsp;</a></span>SSM_ROOT_PRIORITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_ROOT_PRIORITY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The priority for the entry point of an SSM program. </p>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00197">197</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="ga50b5df0fe51a91d9667ec34eecc9210a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50b5df0fe51a91d9667ec34eecc9210a">&#9670;&nbsp;</a></span>SSM_ROOT_DEPTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_ROOT_DEPTH&#160;&#160;&#160;(sizeof(<a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a>) * 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The depth at the entry point of an SSM program. </p>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00206">206</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaf0599e969847088348147d8fb9a7bd82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0599e969847088348147d8fb9a7bd82">&#9670;&nbsp;</a></span>ssm_priority_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread priority. </p>
<p>Lower numbers execute first in an instant. </p>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00194">194</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="ga22bed0d9ef54aa307caef28a6b3fe010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22bed0d9ef54aa307caef28a6b3fe010">&#9670;&nbsp;</a></span>ssm_depth_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">ssm_depth_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Index of least significant bit in a group of priorities. </p>
<p>This only needs to represent the number of bits in the <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82" title="Thread priority.">ssm_priority_t</a> type. </p>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00203">203</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="gadb557bb02081e7d883bcc7d133eb96f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb557bb02081e7d883bcc7d133eb96f6">&#9670;&nbsp;</a></span>ssm_stepf_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void ssm_stepf_t(struct <a class="el" href="structssm__act.html">ssm_act</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function that does an instant's work for a routine. </p>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00209">209</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="gab35cf37819a1a1538704654128b1db4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab35cf37819a1a1538704654128b1db4f">&#9670;&nbsp;</a></span>ssm_act_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structssm__act.html">ssm_act</a> <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activation record for an SSM routine. </p>
<p>Routine activation record "base class." A struct for a particular routine must start with this type but then may be followed by routine-specific fields. </p>

</div>
</div>
<a id="ga167a544c7e87c34a6e4dbf1a8a234f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga167a544c7e87c34a6e4dbf1a8a234f7e">&#9670;&nbsp;</a></span>ssm_trigger_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structssm__trigger.html">ssm_trigger</a> <a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates a routine should run when a scheduled variable is written. </p>
<p>Node in linked list of activation records, maintained by each scheduled variable to determine which continuations should be scheduled when the variable is updated. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaba874593a4027732c9a8c84a25a8bb8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba874593a4027732c9a8c84a25a8bb8d">&#9670;&nbsp;</a></span>ssm_tick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_tick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the system for the next scheduled instant. </p>
<p>If there is nothing left to run in the current instant, advance <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a> to the time of the earliest event in the queue, if any.</p>
<p>Removes every event at the head of the event queue scheduled for <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a>, updates each variable's current value from its later value, and schedules all sensitive triggers in the activation queue. Finally, execute the step functions of all scheduled routines, in order of priority.</p>
<p>Should only be called if there are activation records to execute <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a>, or if <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a> is earlier than <a class="el" href="group__time.html#gae3e5f51dac6ee65b5be5034045b01a79" title="The time of the next event in the event queue.">ssm_next_event_time()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Intended for platform code; should not be used in user code.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_INTERNAL_ERROR</td><td>there are stale events in the queue before <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00414">414</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="gae5a581a8b2ef63d0403c80d2fdfc25e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5a581a8b2ef63d0403c80d2fdfc25e0">&#9670;&nbsp;</a></span>ssm_enter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a>* ssm_enter </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gadb557bb02081e7d883bcc7d133eb96f6">ssm_stepf_t</a>&#160;</td>
          <td class="paramname"><em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a>&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">ssm_depth_t</a>&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize a routine activation record. </p>
<p>Uses the underlying memory allocator to allocate an activation record of a given <em>size</em>, and initializes it with the rest of the fields. Also increments the number of children that <em>parent</em> has.</p>
<p>This function assumes that the embedded <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f" title="Activation record for an SSM routine.">ssm_act_t</a> is at the beginning of the allocated activation record. That is, it has the following layout:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>{</div>
<div class="line">  <a class="code" href="structssm__act.html">ssm_act_t</a> act;</div>
<div class="line">  <span class="comment">// Other fields</span></div>
<div class="line">};</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>the size of the routine activation record to allocate. </td></tr>
    <tr><td class="paramname">step</td><td>the step function of the routine. </td></tr>
    <tr><td class="paramname">parent</td><td>the parent (caller) of the activation record. </td></tr>
    <tr><td class="paramname">priority</td><td>the priority of the activation record. </td></tr>
    <tr><td class="paramname">depth</td><td>the depth of the activation record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly initialized activation record.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_EXHAUSTED_MEMORY</td><td>out of memory. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00266">266</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="ga70103fe73a28cb722f8e3caf1629f5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70103fe73a28cb722f8e3caf1629f5b5">&#9670;&nbsp;</a></span>ssm_leave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_leave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the activation record of a routine before leaving. </p>
<p>Calls the parent if <em>act</em> is the last child.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">act</td><td>the activation record of the routine to leave. </td></tr>
    <tr><td class="paramname">size</td><td>the size of activation record. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00282">282</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="gaf9d88d2b23295c4d405e9479c421efca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9d88d2b23295c4d405e9479c421efca">&#9670;&nbsp;</a></span>ssm_activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_activate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td>
          <td class="paramname"><em>act</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule a routine to run in the current instant. </p>
<p>This function is idempotent: it may be called multiple times on the same activation record within an instant; only the first call has any effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">act</td><td>activation record of the routine to schedule.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_EXHAUSTED_ACT_QUEUE</td><td>the activation record is full. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00289">289</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaec0cb9b65b0fae98389b310a6d34e5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec0cb9b65b0fae98389b310a6d34e5f5">&#9670;&nbsp;</a></span>ssm_top_parent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> ssm_top_parent</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An activation record for the parent of the top-most routine. </p>
<p>This activation record should be used as the parent of the entry point. For example, if the entry point is named <code>main</code>, with activation record type <code>main_act_t</code> and step function <code>step_main</code>:</p>
<div class="fragment"><div class="line"><a class="code" href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">ssm_enter</a>(<span class="keyword">sizeof</span>(main_act_t), step_main, &amp;<a class="code" href="group__act.html#gaec0cb9b65b0fae98389b310a6d34e5f5">ssm_top_parent</a>,</div>
<div class="line">          <a class="code" href="group__act.html#gabea6090ce063ae674b31fc2ded743d4b">SSM_ROOT_PRIORITY</a>, <a class="code" href="group__act.html#ga50b5df0fe51a91d9667ec34eecc9210a">SSM_ROOT_DEPTH</a>)</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="ssm-top-act_8c_source.html#l00009">9</a> of file <a class="el" href="ssm-top-act_8c_source.html">ssm-top-act.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__act_html_gae5a581a8b2ef63d0403c80d2fdfc25e0"><div class="ttname"><a href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">ssm_enter</a></div><div class="ttdeci">ssm_act_t * ssm_enter(size_t size, ssm_stepf_t step, ssm_act_t *parent, ssm_priority_t priority, ssm_depth_t depth)</div><div class="ttdoc">Allocate and initialize a routine activation record.</div><div class="ttdef"><b>Definition:</b> <a href="ssm-scheduler_8c_source.html#l00266">ssm-scheduler.c:266</a></div></div>
<div class="ttc" id="agroup__act_html_gaec0cb9b65b0fae98389b310a6d34e5f5"><div class="ttname"><a href="group__act.html#gaec0cb9b65b0fae98389b310a6d34e5f5">ssm_top_parent</a></div><div class="ttdeci">ssm_act_t ssm_top_parent</div><div class="ttdoc">An activation record for the parent of the top-most routine.</div><div class="ttdef"><b>Definition:</b> <a href="ssm-top-act_8c_source.html#l00009">ssm-top-act.c:9</a></div></div>
<div class="ttc" id="astructssm__act_html"><div class="ttname"><a href="structssm__act.html">ssm_act</a></div><div class="ttdoc">Activation record for an SSM routine.</div><div class="ttdef"><b>Definition:</b> <a href="ssm_8h_source.html#l00217">ssm.h:217</a></div></div>
<div class="ttc" id="agroup__act_html_gabea6090ce063ae674b31fc2ded743d4b"><div class="ttname"><a href="group__act.html#gabea6090ce063ae674b31fc2ded743d4b">SSM_ROOT_PRIORITY</a></div><div class="ttdeci">#define SSM_ROOT_PRIORITY</div><div class="ttdoc">The priority for the entry point of an SSM program.</div><div class="ttdef"><b>Definition:</b> <a href="ssm_8h_source.html#l00197">ssm.h:197</a></div></div>
<div class="ttc" id="agroup__act_html_ga50b5df0fe51a91d9667ec34eecc9210a"><div class="ttname"><a href="group__act.html#ga50b5df0fe51a91d9667ec34eecc9210a">SSM_ROOT_DEPTH</a></div><div class="ttdeci">#define SSM_ROOT_DEPTH</div><div class="ttdoc">The depth at the entry point of an SSM program.</div><div class="ttdef"><b>Definition:</b> <a href="ssm_8h_source.html#l00206">ssm.h:206</a></div></div>
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
<script type="text/javascript">
    // script for doxygen 1.9.1
    $(function() {
        $(document).ready(function(){
           toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
           toggleButton.title = "Toggle Light/Dark Mode"
           document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
       })
    })
</script>
</body>
</html>
