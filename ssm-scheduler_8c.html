<!-- HTML header for doxygen 1.8.20-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ssm: ssm-scheduler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ssm
   &#160;<span id="projectnumber">0.0.2</span>
   </div>
   <div id="projectbrief">Runtime Library for the Sparse Synchronous Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ssm-scheduler_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ssm-scheduler.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of the SSM runtime scheduler.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="ssm-internal_8h_source.html">ssm-internal.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for ssm-scheduler.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="ssm-scheduler_8c__incl.png" border="0" usemap="#ssm-scheduler_8c" alt=""/></div>
<map name="ssm-scheduler_8c" id="ssm-scheduler_8c">
<area shape="rect" title="Implementation of the SSM runtime scheduler." alt="" coords="134,5,261,32"/>
<area shape="rect" href="ssm-internal_8h.html" title="The internal interface of the SSM runtime." alt="" coords="139,80,255,107"/>
<area shape="rect" href="ssm-platform_8h.html" title=" " alt="" coords="87,155,209,181"/>
<area shape="rect" href="ssm_8h.html" title="Interface to the SSM runtime." alt="" coords="167,229,228,256"/>
<area shape="rect" title=" " alt="" coords="5,304,88,331"/>
<area shape="rect" title=" " alt="" coords="112,304,187,331"/>
<area shape="rect" title=" " alt="" coords="211,304,282,331"/>
<area shape="rect" title=" " alt="" coords="306,304,377,331"/>
</map>
</div>
</div>
<p><a href="ssm-scheduler_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3fc88d105940c7a361804adfd99445d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a>&#160;&#160;&#160;static</td></tr>
<tr class="memdesc:a3fc88d105940c7a361804adfd99445d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A symbol is static unless <code>SSM_DEBUG</code> is defined.  <a href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">More...</a><br /></td></tr>
<tr class="separator:a3fc88d105940c7a361804adfd99445d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e3be49c5b417c4b7e79ce0faae5f18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a>&#160;&#160;&#160;static inline</td></tr>
<tr class="memdesc:aa2e3be49c5b417c4b7e79ce0faae5f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">A symbol is static inline unless <code>SSM_DEBUG</code> is defined.  <a href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">More...</a><br /></td></tr>
<tr class="separator:aa2e3be49c5b417c4b7e79ce0faae5f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212bc77e666ea29840c6201cc5d606d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a212bc77e666ea29840c6201cc5d606d6">SSM_EVENT_QUEUE_SIZE</a>&#160;&#160;&#160;2048</td></tr>
<tr class="memdesc:a212bc77e666ea29840c6201cc5d606d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the event queue; override as necessary.  <a href="ssm-scheduler_8c.html#a212bc77e666ea29840c6201cc5d606d6">More...</a><br /></td></tr>
<tr class="separator:a212bc77e666ea29840c6201cc5d606d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ce0218229260d51bbeb62864dc90d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a25ce0218229260d51bbeb62864dc90d0">SSM_ACT_QUEUE_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a25ce0218229260d51bbeb62864dc90d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the activation record queue; override as necessary.  <a href="ssm-scheduler_8c.html#a25ce0218229260d51bbeb62864dc90d0">More...</a><br /></td></tr>
<tr class="separator:a25ce0218229260d51bbeb62864dc90d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf47b5a148097c1cb9d146071828637"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">SSM_QUEUE_HEAD</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:aebf47b5a148097c1cb9d146071828637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra entries at the start of a binary heap.  <a href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">More...</a><br /></td></tr>
<tr class="separator:aebf47b5a148097c1cb9d146071828637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af9e6713f8ed5be19aea426093e1d924f"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a></td></tr>
<tr class="memdesc:af9e6713f8ed5be19aea426093e1d924f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue index type; index of 1 is the first element.  <a href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">More...</a><br /></td></tr>
<tr class="separator:af9e6713f8ed5be19aea426093e1d924f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1dbcfdc79ff6f03a8f44b2c12f6f7a84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a1dbcfdc79ff6f03a8f44b2c12f6f7a84">act_queue_percolate_up</a> (<a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> hole, <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act)</td></tr>
<tr class="memdesc:a1dbcfdc79ff6f03a8f44b2c12f6f7a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percolate act queue hole up, to find where to put a new entry.  <a href="ssm-scheduler_8c.html#a1dbcfdc79ff6f03a8f44b2c12f6f7a84">More...</a><br /></td></tr>
<tr class="separator:a1dbcfdc79ff6f03a8f44b2c12f6f7a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df4a0b2dc7a50eaaa7da0fc21fa47c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a5df4a0b2dc7a50eaaa7da0fc21fa47c8">act_queue_percolate_down</a> (<a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> hole, <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act)</td></tr>
<tr class="memdesc:a5df4a0b2dc7a50eaaa7da0fc21fa47c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percolate act queue hole down, to find where to put a new entry.  <a href="ssm-scheduler_8c.html#a5df4a0b2dc7a50eaaa7da0fc21fa47c8">More...</a><br /></td></tr>
<tr class="separator:a5df4a0b2dc7a50eaaa7da0fc21fa47c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7664a6ae43e69f1ac6f2f7e320e0b563"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a7664a6ae43e69f1ac6f2f7e320e0b563">event_queue_percolate_up</a> (<a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> hole, <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var)</td></tr>
<tr class="memdesc:a7664a6ae43e69f1ac6f2f7e320e0b563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percolate event queue hole up, to find where to put a new entry.  <a href="ssm-scheduler_8c.html#a7664a6ae43e69f1ac6f2f7e320e0b563">More...</a><br /></td></tr>
<tr class="separator:a7664a6ae43e69f1ac6f2f7e320e0b563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab133aca43495cacd91d1070f1b13efac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#ab133aca43495cacd91d1070f1b13efac">event_queue_percolate_down</a> (<a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> hole, <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *event)</td></tr>
<tr class="memdesc:ab133aca43495cacd91d1070f1b13efac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percolate event queue hole down, to find where to put a new entry.  <a href="ssm-scheduler_8c.html#ab133aca43495cacd91d1070f1b13efac">More...</a><br /></td></tr>
<tr class="separator:ab133aca43495cacd91d1070f1b13efac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360e351475aba3ecf51930c9adc6a36f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a360e351475aba3ecf51930c9adc6a36f">find_queued_event</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var)</td></tr>
<tr class="memdesc:a360e351475aba3ecf51930c9adc6a36f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the index of an already scheduled event.  <a href="ssm-scheduler_8c.html#a360e351475aba3ecf51930c9adc6a36f">More...</a><br /></td></tr>
<tr class="separator:a360e351475aba3ecf51930c9adc6a36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad74c026bbc98ac6d6404adf6e3a625ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff">ssm_now</a> (void)</td></tr>
<tr class="memdesc:gad74c026bbc98ac6d6404adf6e3a625ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current model time.  <a href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff">More...</a><br /></td></tr>
<tr class="separator:gad74c026bbc98ac6d6404adf6e3a625ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac821ad7e0264f12d22a91ee9ac9e86e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gac821ad7e0264f12d22a91ee9ac9e86e6">ssm_active</a> (void)</td></tr>
<tr class="memdesc:gac821ad7e0264f12d22a91ee9ac9e86e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether there are still active processes in the activation queue.  <a href="group__act.html#gac821ad7e0264f12d22a91ee9ac9e86e6">More...</a><br /></td></tr>
<tr class="separator:gac821ad7e0264f12d22a91ee9ac9e86e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">ssm_enter</a> (size_t size, <a class="el" href="group__act.html#gadb557bb02081e7d883bcc7d133eb96f6">ssm_stepf_t</a> step, <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *parent, <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a> priority, <a class="el" href="group__act.html#ga22bed0d9ef54aa307caef28a6b3fe010">ssm_depth_t</a> depth)</td></tr>
<tr class="memdesc:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize a routine activation record.  <a href="group__act.html#gae5a581a8b2ef63d0403c80d2fdfc25e0">More...</a><br /></td></tr>
<tr class="separator:gae5a581a8b2ef63d0403c80d2fdfc25e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#ga70103fe73a28cb722f8e3caf1629f5b5">ssm_leave</a> (<a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act, size_t size)</td></tr>
<tr class="memdesc:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the activation record of a routine before leaving.  <a href="group__act.html#ga70103fe73a28cb722f8e3caf1629f5b5">More...</a><br /></td></tr>
<tr class="separator:ga70103fe73a28cb722f8e3caf1629f5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9d88d2b23295c4d405e9479c421efca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaf9d88d2b23295c4d405e9479c421efca">ssm_activate</a> (<a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *act)</td></tr>
<tr class="memdesc:gaf9d88d2b23295c4d405e9479c421efca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a routine to run in the current instant.  <a href="group__act.html#gaf9d88d2b23295c4d405e9479c421efca">More...</a><br /></td></tr>
<tr class="separator:gaf9d88d2b23295c4d405e9479c421efca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae375396db801571915176a1619bba97b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gae375396db801571915176a1619bba97b">ssm_sv_assign_unsafe</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a> prio, <a class="el" href="unionssm__value__t.html">ssm_value_t</a> val)</td></tr>
<tr class="memdesc:gae375396db801571915176a1619bba97b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__sv.html#gad2813acae8332a57decdbd7bf8d37ec9" title="Instantaneous assignment to a scheduled variable.">ssm_assign()</a> without automatic reference counting.  <a href="group__sv.html#gae375396db801571915176a1619bba97b">More...</a><br /></td></tr>
<tr class="separator:gae375396db801571915176a1619bba97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63ba55eb9c5c6ae995890ffc010b1015"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga63ba55eb9c5c6ae995890ffc010b1015">ssm_sv_later_unsafe</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a> when, <a class="el" href="unionssm__value__t.html">ssm_value_t</a> val)</td></tr>
<tr class="memdesc:ga63ba55eb9c5c6ae995890ffc010b1015"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__sv.html#ga46f3f3ac1efff267c6d7441faa81fb54" title="Delayed assignment to a scheduled variable.">ssm_later()</a> without automatic reference counting.  <a href="group__sv.html#ga63ba55eb9c5c6ae995890ffc010b1015">More...</a><br /></td></tr>
<tr class="separator:ga63ba55eb9c5c6ae995890ffc010b1015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad21febd43005134a377d8ed1f75e67ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gad21febd43005134a377d8ed1f75e67ca">ssm_sv_sensitize</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *trig)</td></tr>
<tr class="memdesc:gad21febd43005134a377d8ed1f75e67ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensitize a variable to a trigger.  <a href="group__sv.html#gad21febd43005134a377d8ed1f75e67ca">More...</a><br /></td></tr>
<tr class="separator:gad21febd43005134a377d8ed1f75e67ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30f8b17198ed817ab7e124a8da4e4725"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga30f8b17198ed817ab7e124a8da4e4725">ssm_sv_desensitize</a> (<a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *trig)</td></tr>
<tr class="memdesc:ga30f8b17198ed817ab7e124a8da4e4725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desensitize a variable from a trigger.  <a href="group__sv.html#ga30f8b17198ed817ab7e124a8da4e4725">More...</a><br /></td></tr>
<tr class="separator:ga30f8b17198ed817ab7e124a8da4e4725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga507f4f10f494c4bf1d9254e32a976c09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga507f4f10f494c4bf1d9254e32a976c09">ssm_unschedule</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var)</td></tr>
<tr class="memdesc:ga507f4f10f494c4bf1d9254e32a976c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unschedule any pending events on a variable.  <a href="group__sv.html#ga507f4f10f494c4bf1d9254e32a976c09">More...</a><br /></td></tr>
<tr class="separator:ga507f4f10f494c4bf1d9254e32a976c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3e5f51dac6ee65b5be5034045b01a79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#gae3e5f51dac6ee65b5be5034045b01a79">ssm_next_event_time</a> (void)</td></tr>
<tr class="memdesc:gae3e5f51dac6ee65b5be5034045b01a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time of the next event in the event queue.  <a href="group__time.html#gae3e5f51dac6ee65b5be5034045b01a79">More...</a><br /></td></tr>
<tr class="separator:gae3e5f51dac6ee65b5be5034045b01a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46e6a55e8441ee224a641dbdd92c45c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#ga46e6a55e8441ee224a641dbdd92c45c6">ssm_reset</a> (void)</td></tr>
<tr class="memdesc:ga46e6a55e8441ee224a641dbdd92c45c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the scheduler.  <a href="group__time.html#ga46e6a55e8441ee224a641dbdd92c45c6">More...</a><br /></td></tr>
<tr class="separator:ga46e6a55e8441ee224a641dbdd92c45c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabdccd038383abd0cefc8066f0c8b6237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__time.html#gabdccd038383abd0cefc8066f0c8b6237">ssm_set_now</a> (<a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a> next)</td></tr>
<tr class="memdesc:gabdccd038383abd0cefc8066f0c8b6237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the current model time.  <a href="group__time.html#gabdccd038383abd0cefc8066f0c8b6237">More...</a><br /></td></tr>
<tr class="separator:gabdccd038383abd0cefc8066f0c8b6237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6057c5089f21df48a1e618b83886144e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga6057c5089f21df48a1e618b83886144e">ssm_update</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *sv)</td></tr>
<tr class="memdesc:ga6057c5089f21df48a1e618b83886144e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a (delayed) update on a variable.  <a href="group__sv.html#ga6057c5089f21df48a1e618b83886144e">More...</a><br /></td></tr>
<tr class="separator:ga6057c5089f21df48a1e618b83886144e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba874593a4027732c9a8c84a25a8bb8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d">ssm_tick</a> (void)</td></tr>
<tr class="memdesc:gaba874593a4027732c9a8c84a25a8bb8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the system for the next scheduled instant.  <a href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d">More...</a><br /></td></tr>
<tr class="separator:gaba874593a4027732c9a8c84a25a8bb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae517897aca56cd08720db2d23aa50043"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#ae517897aca56cd08720db2d23aa50043">event_queue</a> [<a class="el" href="ssm-scheduler_8c.html#a212bc77e666ea29840c6201cc5d606d6">SSM_EVENT_QUEUE_SIZE</a>+<a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">SSM_QUEUE_HEAD</a>]</td></tr>
<tr class="memdesc:ae517897aca56cd08720db2d23aa50043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event queue, used to track and schedule events between instants.  <a href="ssm-scheduler_8c.html#ae517897aca56cd08720db2d23aa50043">More...</a><br /></td></tr>
<tr class="separator:ae517897aca56cd08720db2d23aa50043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b067486a0ad26ce2c76bd6964f858fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a9b067486a0ad26ce2c76bd6964f858fc">event_queue_len</a> = 0</td></tr>
<tr class="memdesc:a9b067486a0ad26ce2c76bd6964f858fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of elements in <a class="el" href="ssm-scheduler_8c.html#ae517897aca56cd08720db2d23aa50043" title="Event queue, used to track and schedule events between instants.">event_queue</a>.  <a href="ssm-scheduler_8c.html#a9b067486a0ad26ce2c76bd6964f858fc">More...</a><br /></td></tr>
<tr class="separator:a9b067486a0ad26ce2c76bd6964f858fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a79f16bc1a091bc13d9597278daae7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a50a79f16bc1a091bc13d9597278daae7">act_queue</a> [<a class="el" href="ssm-scheduler_8c.html#a25ce0218229260d51bbeb62864dc90d0">SSM_ACT_QUEUE_SIZE</a>+<a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">SSM_QUEUE_HEAD</a>]</td></tr>
<tr class="memdesc:a50a79f16bc1a091bc13d9597278daae7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activation record queue, for scheduling at each instant.  <a href="ssm-scheduler_8c.html#a50a79f16bc1a091bc13d9597278daae7">More...</a><br /></td></tr>
<tr class="separator:a50a79f16bc1a091bc13d9597278daae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf5d178a07888ef6947d379cca4e8e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a3bf5d178a07888ef6947d379cca4e8e0">act_queue_len</a> = 0</td></tr>
<tr class="memdesc:a3bf5d178a07888ef6947d379cca4e8e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of elements in <a class="el" href="ssm-scheduler_8c.html#a50a79f16bc1a091bc13d9597278daae7" title="Activation record queue, for scheduling at each instant.">act_queue</a>.  <a href="ssm-scheduler_8c.html#a3bf5d178a07888ef6947d379cca4e8e0">More...</a><br /></td></tr>
<tr class="separator:a3bf5d178a07888ef6947d379cca4e8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2e93b2d3f5db60cd2893861ae7e21b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b">now</a> = 0L</td></tr>
<tr class="memdesc:a2b2e93b2d3f5db60cd2893861ae7e21b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current model time.  <a href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b">More...</a><br /></td></tr>
<tr class="separator:a2b2e93b2d3f5db60cd2893861ae7e21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560ba7a821352669d1e781f544cdf4d1"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssm-scheduler_8c.html#a560ba7a821352669d1e781f544cdf4d1">num_processes</a> = 0</td></tr>
<tr class="memdesc:a560ba7a821352669d1e781f544cdf4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The program terminates when there are no more processes.  <a href="ssm-scheduler_8c.html#a560ba7a821352669d1e781f544cdf4d1">More...</a><br /></td></tr>
<tr class="separator:a560ba7a821352669d1e781f544cdf4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of the SSM runtime scheduler. </p>
<p>Contains a priority queue implemented using a binary heap.</p>
<p>When <code>SSM_DEBUG</code> is defined, relevant symbols are exported for whitebox testing (see <a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5" title="A symbol is static unless SSM_DEBUG is defined.">SSM_STATIC</a> and <a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18" title="A symbol is static inline unless SSM_DEBUG is defined.">SSM_STATIC_INLINE</a>).</p>
<dl class="section author"><dt>Author</dt><dd>Stephen Edwards (sedwards-lab) </dd>
<dd>
John Hui (j-hui) </dd></dl>

<p class="definition">Definition in file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3fc88d105940c7a361804adfd99445d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc88d105940c7a361804adfd99445d5">&#9670;&nbsp;</a></span>SSM_STATIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_STATIC&#160;&#160;&#160;static</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A symbol is static unless <code>SSM_DEBUG</code> is defined. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00024">24</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="aa2e3be49c5b417c4b7e79ce0faae5f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e3be49c5b417c4b7e79ce0faae5f18">&#9670;&nbsp;</a></span>SSM_STATIC_INLINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_STATIC_INLINE&#160;&#160;&#160;static inline</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A symbol is static inline unless <code>SSM_DEBUG</code> is defined. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00025">25</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a212bc77e666ea29840c6201cc5d606d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a212bc77e666ea29840c6201cc5d606d6">&#9670;&nbsp;</a></span>SSM_EVENT_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_EVENT_QUEUE_SIZE&#160;&#160;&#160;2048</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the event queue; override as necessary. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00030">30</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a25ce0218229260d51bbeb62864dc90d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ce0218229260d51bbeb62864dc90d0">&#9670;&nbsp;</a></span>SSM_ACT_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_ACT_QUEUE_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the activation record queue; override as necessary. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00035">35</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="aebf47b5a148097c1cb9d146071828637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf47b5a148097c1cb9d146071828637">&#9670;&nbsp;</a></span>SSM_QUEUE_HEAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSM_QUEUE_HEAD&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extra entries at the start of a binary heap. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00039">39</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af9e6713f8ed5be19aea426093e1d924f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e6713f8ed5be19aea426093e1d924f">&#9670;&nbsp;</a></span>q_idx_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue index type; index of 1 is the first element. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00042">42</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1dbcfdc79ff6f03a8f44b2c12f6f7a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dbcfdc79ff6f03a8f44b2c12f6f7a84">&#9670;&nbsp;</a></span>act_queue_percolate_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void act_queue_percolate_up </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td>
          <td class="paramname"><em>hole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td>
          <td class="paramname"><em>act</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percolate act queue hole up, to find where to put a new entry. </p>
<p>Starting at the hole, walk up toward the root of the tree, copying parent to child until we find where we can put the new activation record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hole</td><td>index of the hole that needs to be filled. </td></tr>
    <tr><td class="paramname">act</td><td>activation record that needs to be placed in the heap. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00085">85</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a5df4a0b2dc7a50eaaa7da0fc21fa47c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df4a0b2dc7a50eaaa7da0fc21fa47c8">&#9670;&nbsp;</a></span>act_queue_percolate_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void act_queue_percolate_down </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td>
          <td class="paramname"><em>hole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a> *&#160;</td>
          <td class="paramname"><em>act</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percolate act queue hole down, to find where to put a new entry. </p>
<p>Starting at the hole, walk down towards the leaves of the tree, moving the earlier child to the parent and repeating the process on that child. This makes the parent earlier than both children. Stop when the activation record we're trying to place has a lower priority than either children.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hole</td><td>where to place the given activation record. </td></tr>
    <tr><td class="paramname">act</td><td>activation record to be placed in the queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00108">108</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a7664a6ae43e69f1ac6f2f7e320e0b563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7664a6ae43e69f1ac6f2f7e320e0b563">&#9670;&nbsp;</a></span>event_queue_percolate_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void event_queue_percolate_up </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td>
          <td class="paramname"><em>hole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percolate event queue hole up, to find where to put a new entry. </p>
<p>Starting at the hole, walk up toward the root of the tree, copying parent to child until we find where we can put the new event.</p>
<p>The <em>later_time</em> field of <em>var</em> should already be set to the value it is sorted on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hole</td><td>index of the hole, from 1 to <a class="el" href="ssm-scheduler_8c.html#a9b067486a0ad26ce2c76bd6964f858fc" title="The number of elements in event_queue.">event_queue_len</a>, inclusive. </td></tr>
    <tr><td class="paramname">var</td><td>event to place in the queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00142">142</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="ab133aca43495cacd91d1070f1b13efac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab133aca43495cacd91d1070f1b13efac">&#9670;&nbsp;</a></span>event_queue_percolate_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> void event_queue_percolate_down </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a>&#160;</td>
          <td class="paramname"><em>hole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percolate event queue hole down, to find where to put a new entry. </p>
<p>Starting at the hole, walk down towards the leaves of the tree, moving the earlier child to the parent and repeating the process on that child. This makes the parent earlier than both children. Stop when the event we're trying to place is earlier than both of the children.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hole</td><td>where to place <em>event</em>. </td></tr>
    <tr><td class="paramname">event</td><td>event to place in the queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00164">164</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a360e351475aba3ecf51930c9adc6a36f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360e351475aba3ecf51930c9adc6a36f">&#9670;&nbsp;</a></span>find_queued_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#aa2e3be49c5b417c4b7e79ce0faae5f18">SSM_STATIC_INLINE</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> find_queued_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the index of an already scheduled event. </p>
<p>This is an inefficient linear search, so it's not meant to be used often. This is in preparation for either removing or rescheduling an event in the queue. The function should only be called on a variable that is in the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the variable being searched for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00197">197</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae517897aca56cd08720db2d23aa50043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae517897aca56cd08720db2d23aa50043">&#9670;&nbsp;</a></span>event_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a>* event_queue[<a class="el" href="ssm-scheduler_8c.html#a212bc77e666ea29840c6201cc5d606d6">SSM_EVENT_QUEUE_SIZE</a>+<a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">SSM_QUEUE_HEAD</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event queue, used to track and schedule events between instants. </p>
<p>Managed as a binary heap, sorted by <em>later_time</em>.</p>
<p>Since the first element (<a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637" title="Extra entries at the start of a binary heap.">SSM_QUEUE_HEAD</a>) is unusued, event_queue[event_queue_len] is the last element in the queue provided event_queue_len is non-zero. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00052">52</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a9b067486a0ad26ce2c76bd6964f858fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b067486a0ad26ce2c76bd6964f858fc">&#9670;&nbsp;</a></span>event_queue_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> event_queue_len = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of elements in <a class="el" href="ssm-scheduler_8c.html#ae517897aca56cd08720db2d23aa50043" title="Event queue, used to track and schedule events between instants.">event_queue</a>. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00055">55</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a50a79f16bc1a091bc13d9597278daae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a79f16bc1a091bc13d9597278daae7">&#9670;&nbsp;</a></span>act_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__act.html#gab35cf37819a1a1538704654128b1db4f">ssm_act_t</a>* act_queue[<a class="el" href="ssm-scheduler_8c.html#a25ce0218229260d51bbeb62864dc90d0">SSM_ACT_QUEUE_SIZE</a>+<a class="el" href="ssm-scheduler_8c.html#aebf47b5a148097c1cb9d146071828637">SSM_QUEUE_HEAD</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activation record queue, for scheduling at each instant. </p>
<p>Managed as a binary heap sorted by <em>priority</em>. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00061">61</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a3bf5d178a07888ef6947d379cca4e8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf5d178a07888ef6947d379cca4e8e0">&#9670;&nbsp;</a></span>act_queue_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="ssm-scheduler_8c.html#af9e6713f8ed5be19aea426093e1d924f">q_idx_t</a> act_queue_len = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the number of elements in <a class="el" href="ssm-scheduler_8c.html#a50a79f16bc1a091bc13d9597278daae7" title="Activation record queue, for scheduling at each instant.">act_queue</a>. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00064">64</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a2b2e93b2d3f5db60cd2893861ae7e21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2e93b2d3f5db60cd2893861ae7e21b">&#9670;&nbsp;</a></span>now</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ssm-scheduler_8c.html#a3fc88d105940c7a361804adfd99445d5">SSM_STATIC</a> <a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a> now = 0L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The current model time. </p>
<p>Read with <a class="el" href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff" title="The current model time.">ssm_now()</a>; user programs should not manipuate this directly.</p>
<p>This starts out initialized to 0; can be reset by <a class="el" href="group__time.html#ga46e6a55e8441ee224a641dbdd92c45c6" title="Reset the scheduler.">ssm_reset()</a>.</p>
<p><a class="el" href="group__time.html#gabdccd038383abd0cefc8066f0c8b6237" title="Advance the current model time.">ssm_set_now()</a> (and its caller <a class="el" href="group__act.html#gaba874593a4027732c9a8c84a25a8bb8d" title="Run the system for the next scheduled instant.">ssm_tick()</a>) advances <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a> monotonically. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00074">74</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="a560ba7a821352669d1e781f544cdf4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560ba7a821352669d1e781f544cdf4d1">&#9670;&nbsp;</a></span>num_processes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t num_processes = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The program terminates when there are no more processes. </p>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00265">265</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="ssm-scheduler_8c.html">ssm-scheduler.c</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
<script type="text/javascript">
    // script for doxygen 1.9.1
    $(function() {
        $(document).ready(function(){
           toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
           toggleButton.title = "Toggle Light/Dark Mode"
           document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
       })
    })
</script>
</body>
</html>
