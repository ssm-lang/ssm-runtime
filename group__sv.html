<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ssm: Scheduled variables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ssm
   &#160;<span id="projectnumber">0.0.2</span>
   </div>
   <div id="projectbrief">Runtime Library for the Sparse Synchronous Model</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scheduled variables</div>  </div>
</div><!--header-->
<div class="contents">

<p><em>Scheduled variables</em> are special references to which instantaneous and delayed assignments may be made. When such an assignment is made, all <em>sensitive</em> routines (with a lower priority, for instantaneous assignments) are woken and scheduled for execution in that instant. A scheduled assignment is also referred to as an <em>event</em>.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Discussion</h2>
<p><em>Scheduled variables</em> are special references to which instantaneous and delayed assignments may be made. When such an assignment is made, all <em>sensitive</em> routines (with a lower priority, for instantaneous assignments) are woken and scheduled for execution in that instant. A scheduled assignment is also referred to as an <em>event</em>. </p>
<dl class="section note"><dt>Note</dt><dd>This SSM runtime only supports scheduling a single outstanding assignment to a each scheduled variable. Earlier delayed assignments will be overwritten by subsequent delayed asssignments, but not by instantaneous assignments.</dd></dl>
<p>When the last reference to a scheduled variable is dropped, any outstanding scheduled assignments to it will be cancelled. Note, however, at that the current implementation of this is rather costly (linear in the total number of queued events at that time). </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structssm__sv.html">ssm_sv</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A scheduled variable that supported scheduled updates with triggers.  <a href="structssm__sv.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga4f64d15b72fdd6f8f3085929a492582a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)&#160;&#160;&#160;(<a class="el" href="group__util.html#gaf8c317a42292b61c93aae91e59118a46">container_of</a>((v).heap_ptr, struct <a class="el" href="structssm__sv.html">ssm_sv</a>, mm))</td></tr>
<tr class="memdesc:ga4f64d15b72fdd6f8f3085929a492582a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an <a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> to an <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a>.  <a href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">More...</a><br /></td></tr>
<tr class="separator:ga4f64d15b72fdd6f8f3085929a492582a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06eca0348378889ceab8284c17520e79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga06eca0348378889ceab8284c17520e79">ssm_from_sv</a>(s)&#160;&#160;&#160;(<a class="el" href="unionssm__value__t.html">ssm_value_t</a>) { .heap_ptr = &amp;(s)-&gt;mm }</td></tr>
<tr class="memdesc:ga06eca0348378889ceab8284c17520e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a> pointer to an <a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a>.  <a href="group__sv.html#ga06eca0348378889ceab8284c17520e79">More...</a><br /></td></tr>
<tr class="separator:ga06eca0348378889ceab8284c17520e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2833163fc4d1a61720b855b024f485e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gad2833163fc4d1a61720b855b024f485e">ssm_event_on</a>(v)&#160;&#160;&#160;(<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;last_updated == <a class="el" href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff">ssm_now</a>())</td></tr>
<tr class="memdesc:gad2833163fc4d1a61720b855b024f485e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether there the variable was updated in the current instant.  <a href="group__sv.html#gad2833163fc4d1a61720b855b024f485e">More...</a><br /></td></tr>
<tr class="separator:gad2833163fc4d1a61720b855b024f485e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga181194fb2c309b5ebbed3be4f8a2ad4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga181194fb2c309b5ebbed3be4f8a2ad4c">ssm_deref</a>(v)&#160;&#160;&#160;(<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;value)</td></tr>
<tr class="memdesc:ga181194fb2c309b5ebbed3be4f8a2ad4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the value of a scheduled variable.  <a href="group__sv.html#ga181194fb2c309b5ebbed3be4f8a2ad4c">More...</a><br /></td></tr>
<tr class="separator:ga181194fb2c309b5ebbed3be4f8a2ad4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac42c8c7eb78aa01c534584a44af8c90e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gac42c8c7eb78aa01c534584a44af8c90e">ssm_sv_mm</a>(v)&#160;&#160;&#160;(&amp;<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;mm)</td></tr>
<tr class="memdesc:gac42c8c7eb78aa01c534584a44af8c90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain memory management header of a scheduled variable.  <a href="group__sv.html#gac42c8c7eb78aa01c534584a44af8c90e">More...</a><br /></td></tr>
<tr class="separator:gac42c8c7eb78aa01c534584a44af8c90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga3ff20b6ba9aa056f1cf64051c20dd779"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structssm__sv.html">ssm_sv</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a></td></tr>
<tr class="memdesc:ga3ff20b6ba9aa056f1cf64051c20dd779"><td class="mdescLeft">&#160;</td><td class="mdescRight">A scheduled variable that supported scheduled updates with triggers.  <a href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">More...</a><br /></td></tr>
<tr class="separator:ga3ff20b6ba9aa056f1cf64051c20dd779"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6057c5089f21df48a1e618b83886144e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga6057c5089f21df48a1e618b83886144e">ssm_update</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *sv)</td></tr>
<tr class="memdesc:ga6057c5089f21df48a1e618b83886144e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a (delayed) update on a variable.  <a href="group__sv.html#ga6057c5089f21df48a1e618b83886144e">More...</a><br /></td></tr>
<tr class="separator:ga6057c5089f21df48a1e618b83886144e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb1b13a45f8315e8ec30a10958c11dcb"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structssm__sv.html">ssm_sv</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gacb1b13a45f8315e8ec30a10958c11dcb">ssm_new_sv</a> (<a class="el" href="unionssm__value__t.html">ssm_value_t</a> val)</td></tr>
<tr class="memdesc:gacb1b13a45f8315e8ec30a10958c11dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize a scheduled variable.  <a href="group__sv.html#gacb1b13a45f8315e8ec30a10958c11dcb">More...</a><br /></td></tr>
<tr class="separator:gacb1b13a45f8315e8ec30a10958c11dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7071d416ab1beecab8acf1b0bf09825"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gac7071d416ab1beecab8acf1b0bf09825">ssm_assign</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a> prio, <a class="el" href="unionssm__value__t.html">ssm_value_t</a> value)</td></tr>
<tr class="memdesc:gac7071d416ab1beecab8acf1b0bf09825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantaneous assignment to a scheduled variable.  <a href="group__sv.html#gac7071d416ab1beecab8acf1b0bf09825">More...</a><br /></td></tr>
<tr class="separator:gac7071d416ab1beecab8acf1b0bf09825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec47ada342876e79b21c53151001c888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#gaec47ada342876e79b21c53151001c888">ssm_later</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a> later, <a class="el" href="unionssm__value__t.html">ssm_value_t</a> value)</td></tr>
<tr class="memdesc:gaec47ada342876e79b21c53151001c888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delayed assignment to a scheduled variable.  <a href="group__sv.html#gaec47ada342876e79b21c53151001c888">More...</a><br /></td></tr>
<tr class="separator:gaec47ada342876e79b21c53151001c888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aa7b2c2566032f8a4e646bcb010ecd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga5aa7b2c2566032f8a4e646bcb010ecd1">ssm_sensitize</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var, <a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *trig)</td></tr>
<tr class="memdesc:ga5aa7b2c2566032f8a4e646bcb010ecd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensitize a variable to a trigger.  <a href="group__sv.html#ga5aa7b2c2566032f8a4e646bcb010ecd1">More...</a><br /></td></tr>
<tr class="separator:ga5aa7b2c2566032f8a4e646bcb010ecd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga415fa87c32772f0cced29b552845c85b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga415fa87c32772f0cced29b552845c85b">ssm_desensitize</a> (<a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *trig)</td></tr>
<tr class="memdesc:ga415fa87c32772f0cced29b552845c85b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desensitize a variable from a trigger.  <a href="group__sv.html#ga415fa87c32772f0cced29b552845c85b">More...</a><br /></td></tr>
<tr class="separator:ga415fa87c32772f0cced29b552845c85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga507f4f10f494c4bf1d9254e32a976c09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sv.html#ga507f4f10f494c4bf1d9254e32a976c09">ssm_unschedule</a> (<a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *var)</td></tr>
<tr class="memdesc:ga507f4f10f494c4bf1d9254e32a976c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unschedule any pending events on a variable.  <a href="group__sv.html#ga507f4f10f494c4bf1d9254e32a976c09">More...</a><br /></td></tr>
<tr class="separator:ga507f4f10f494c4bf1d9254e32a976c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga4f64d15b72fdd6f8f3085929a492582a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f64d15b72fdd6f8f3085929a492582a">&#9670;&nbsp;</a></span>ssm_to_sv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ssm_to_sv</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__util.html#gaf8c317a42292b61c93aae91e59118a46">container_of</a>((v).heap_ptr, struct <a class="el" href="structssm__sv.html">ssm_sv</a>, mm))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an <a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> to an <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a>. </p>
<p>Provided for convenience; zero runtime cost.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>the <a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a> in the heap. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00550">550</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="ga06eca0348378889ceab8284c17520e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06eca0348378889ceab8284c17520e79">&#9670;&nbsp;</a></span>ssm_from_sv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ssm_from_sv</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="unionssm__value__t.html">ssm_value_t</a>) { .heap_ptr = &amp;(s)-&gt;mm }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a> pointer to an <a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a>. </p>
<p>Provided for convenience; zero runtime cost.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>pointer to the <a class="el" href="structssm__object.html" title="Heap-allocated SSM object, with memory management metadata header.">ssm_object</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> of the pointer to <em>t</em>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00559">559</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="gad2833163fc4d1a61720b855b024f485e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2833163fc4d1a61720b855b024f485e">&#9670;&nbsp;</a></span>ssm_event_on</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ssm_event_on</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;last_updated == <a class="el" href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff">ssm_now</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether there the variable was updated in the current instant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td><a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> that points to a scheduled variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>non-zero if the variable was updated in the current instant; zero otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00568">568</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="ga181194fb2c309b5ebbed3be4f8a2ad4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga181194fb2c309b5ebbed3be4f8a2ad4c">&#9670;&nbsp;</a></span>ssm_deref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ssm_deref</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;value)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the value of a scheduled variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td><a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> that points to a scheduled variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value that <em>v</em> points to. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00575">575</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<a id="gac42c8c7eb78aa01c534584a44af8c90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac42c8c7eb78aa01c534584a44af8c90e">&#9670;&nbsp;</a></span>ssm_sv_mm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ssm_sv_mm</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">v</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;<a class="el" href="group__sv.html#ga4f64d15b72fdd6f8f3085929a492582a">ssm_to_sv</a>(v)-&gt;mm)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain memory management header of a scheduled variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td><a class="el" href="unionssm__value__t.html" title="SSM values are either &quot;packed&quot; values or heap-allocated.">ssm_value_t</a> that points to a scheduled variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the <a class="el" href="structssm__mm.html" title="The metadata accompanying any heap-allocated object.">ssm_mm</a> header of <em>v</em>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm_8h_source.html#l00582">582</a> of file <a class="el" href="ssm_8h_source.html">ssm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga3ff20b6ba9aa056f1cf64051c20dd779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ff20b6ba9aa056f1cf64051c20dd779">&#9670;&nbsp;</a></span>ssm_sv_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structssm__sv.html">ssm_sv</a> <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A scheduled variable that supported scheduled updates with triggers. </p>
<p>Scheduled variables are heap-allocated structures that represent variables with reference-like semantics in SSM.</p>
<p>Routines may directly assign to them in the current instant (<a class="el" href="group__sv.html#gac7071d416ab1beecab8acf1b0bf09825" title="Instantaneous assignment to a scheduled variable.">ssm_assign()</a>), or schedule a delayed assignment to them (<a class="el" href="group__sv.html#gaec47ada342876e79b21c53151001c888" title="Delayed assignment to a scheduled variable.">ssm_later()</a>). The <em>last_updated</em> time is recorded in each case, sensitive routines, i.e., <em>triggers</em>, are woken up.</p>
<p>At most one delayed assignment may be scheduled at a time, but a single update may wake any number of sensitive routines.</p>
<dl class="section invariant"><dt>Invariant</dt><dd><em>later_time</em> != <a class="el" href="group__time.html#ga21ad50b0c4e1feeaeb9c78af1a9d2d9f" title="Time indicating something will never happen.">SSM_NEVER</a> iff this variable in the event queue. </dd>
<dd>
For all <code>struct <a class="el" href="structssm__time.html" title="Time value object, stored in the heap.">ssm_time</a> t</code>, <code><a class="el" href="group__mem.html#gaf37f24336c851c6ea10b1b3a9f49a1ff" title="Whether an mm header is embedded in a builtin-type object.">ssm_mm_is_builtin(SSM_SV_T, t)</a></code>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6057c5089f21df48a1e618b83886144e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6057c5089f21df48a1e618b83886144e">&#9670;&nbsp;</a></span>ssm_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>sv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a (delayed) update on a variable. </p>
<p>Schedules all routine activation records sensitive to <em>sv</em> in the activation queue.</p>
<p>Should only be called if the variable is scheduled to be updated <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a>.</p>
<p>Exposed so that platform code can perform external variable updates.</p>
<dl class="section note"><dt>Note</dt><dd>Intended for platform code; should not be used in user code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sv</td><td>the variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_NOT_READY</td><td><em>sv</em> was not scheduled to be updated <a class="el" href="ssm-scheduler_8c.html#a2b2e93b2d3f5db60cd2893861ae7e21b" title="The current model time.">now</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00422">422</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="gacb1b13a45f8315e8ec30a10958c11dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb1b13a45f8315e8ec30a10958c11dcb">&#9670;&nbsp;</a></span>ssm_new_sv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structssm__sv.html">ssm_sv</a>* ssm_new_sv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionssm__value__t.html">ssm_value_t</a>&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize a scheduled variable. </p>
<p>Initializes the <em>value</em> field with <em>val</em>, but leaves <em>later_value</em> uninitialized. Other field are initialized appropriately.</p>
<p>The scheduled variable is allocated on the heap.</p>
<p>Call <a class="el" href="group__mem.html#gaa19e5773ed713940dcc8f61a1dfc8e2f" title="Drop a reference to a heap item, and free it if necessary.">ssm_drop()</a> on the <em>mm</em> header to free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>value to initialize the sv value with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the allocated <a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779" title="A scheduled variable that supported scheduled updates with triggers.">ssm_sv_t</a> object.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_EXHAUSTED_MEMORY</td><td>out of memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section invariant"><dt>Invariant</dt><dd><code>ssm_mm_is(SSM_SV_T, &amp;ssm_new_sv(any)-&gt;mm)</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00309">309</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="gac7071d416ab1beecab8acf1b0bf09825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7071d416ab1beecab8acf1b0bf09825">&#9670;&nbsp;</a></span>ssm_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_assign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#gaf0599e969847088348147d8fb9a7bd82">ssm_priority_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionssm__value__t.html">ssm_value_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantaneous assignment to a scheduled variable. </p>
<p>Updates the value of <em>var</em> in the current instant, and wakes up all sensitive processes at a lower priority than the calling routine.</p>
<p>Does not overwrite a scheduled assignment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>pointer to the scheduled variable. </td></tr>
    <tr><td class="paramname">prio</td><td>priority of the calling routine. </td></tr>
    <tr><td class="paramname">value</td><td>the value to be assigned to <em>var</em>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00320">320</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="gaec47ada342876e79b21c53151001c888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec47ada342876e79b21c53151001c888">&#9670;&nbsp;</a></span>ssm_later()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_later </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time.html#gae963c119a7847a3327202eacb31f66ca">ssm_time_t</a>&#160;</td>
          <td class="paramname"><em>later</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionssm__value__t.html">ssm_value_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delayed assignment to a scheduled variable. </p>
<p>Schedules a delayed assignment to <em>var</em> at a later time.</p>
<p>Overwrites any previously scheduled update.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>pointer to the scheduled variable. </td></tr>
    <tr><td class="paramname">later</td><td>the time when the update should take place. </td></tr>
    <tr><td class="paramname">value</td><td>the value to be assigned to <em>var</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SSM_INVALID_TIME</td><td><em>later</em> is greater than <a class="el" href="group__time.html#gad74c026bbc98ac6d6404adf6e3a625ff" title="The current model time.">ssm_now()</a>. </td></tr>
    <tr><td class="paramname">SSM_EXHAUSTED_EVENT_QUEUE</td><td>event queue ran out of space. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00328">328</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="ga5aa7b2c2566032f8a4e646bcb010ecd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5aa7b2c2566032f8a4e646bcb010ecd1">&#9670;&nbsp;</a></span>ssm_sensitize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_sensitize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *&#160;</td>
          <td class="paramname"><em>trig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sensitize a variable to a trigger. </p>
<p>Adds a trigger to a scheduled variable, so that <em>trig's</em> activation record is awoken when the variable is updated.</p>
<p>This function should be called by a routine before sleeping (yielding).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>pointer to the scheduled variable. </td></tr>
    <tr><td class="paramname">trig</td><td>trigger to be registered on <em>var</em>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00359">359</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="ga415fa87c32772f0cced29b552845c85b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga415fa87c32772f0cced29b552845c85b">&#9670;&nbsp;</a></span>ssm_desensitize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_desensitize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__act.html#ga167a544c7e87c34a6e4dbf1a8a234f7e">ssm_trigger_t</a> *&#160;</td>
          <td class="paramname"><em>trig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Desensitize a variable from a trigger. </p>
<p>Remove a trigger from its variable.</p>
<p>This function should be called by a routine after returning from sleeping.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trig</td><td>the trigger. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00374">374</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
<a id="ga507f4f10f494c4bf1d9254e32a976c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga507f4f10f494c4bf1d9254e32a976c09">&#9670;&nbsp;</a></span>ssm_unschedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ssm_unschedule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sv.html#ga3ff20b6ba9aa056f1cf64051c20dd779">ssm_sv_t</a> *&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unschedule any pending events on a variable. </p>
<p>Should be called before the variable is dropped.</p>
<p>Nothing happens if the variable does not have a pending event.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>move this to ssm-internal, since this will just be part of drop.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">var</td><td>the variable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ssm-scheduler_8c_source.html#l00383">383</a> of file <a class="el" href="ssm-scheduler_8c_source.html">ssm-scheduler.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
